<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>迷宫</title>
	<style type="text/css">
		#out {
			text-align: center;
		}

		#myCanvas {
			margin: auto;
			position: absolute;
			left: 0;
			right: 0;
		}

		fieldset {
			padding: 10px;
			width: 480px;
			margin: 10px auto;
		}

		label {
			margin-left: 5px;
		}
	</style>
	<script type="text/javascript" src="maze.js"></script>
</head>

<body>
	<fieldset>
		<legend>迷宫生成：</legend>
		<form>
			<label>宽度：<input id="w" type="text" value="24" /></label>
			<label>高度：<input id="h" type="text" value="12" /></label>
			<label for="mode">模式：
				<select name="mode" id="mode">
					<option value="text">文本模式</option>
					<option value="draw">绘图模式</option>
				</select>
			</label>
			<label><input type="button" value="提交" onClick="mazeto()" /></label>
			<label>显示路径 <input id="seek" type="checkbox" value="1" /></label>
		</form>
	</fieldset>
	<pre id="out"></pre>
	<canvas id="myCanvas">
		Your browser does not support the HTML5 canvas tag.
	</canvas>
	<script type="text/javascript">
		function mazeto() {
			var w = Math.round(document.getElementById('w').value);
			var h = Math.round(document.getElementById('h').value);
			var decrypt = document.getElementById('seek').checked;
			var mazeinfo = new Maze(w, h);
			console.log(mazeinfo.horiz);
			console.log(mazeinfo.verti);
			console.log(mazeinfo.text(decrypt));
			var mode = document.getElementById('mode').options[document.getElementById('mode').selectedIndex].value;
			if (mode == 'text') {
				document.getElementById('out').style.display='';
				document.getElementById('out').innerHTML = mazeinfo.text(decrypt);
				document.getElementById('myCanvas').style.display='none';
			} else if (mode = 'draw') {
				document.getElementById('myCanvas').style.display='';
				mazeinfo.draw('myCanvas');
				document.getElementById('out').style.display='none';
			}
		};
	</script>
</body>

</html>